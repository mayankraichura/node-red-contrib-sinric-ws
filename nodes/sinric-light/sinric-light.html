<script type="text/javascript">
  RED.nodes.registerType('sinric-light', {
    category: 'sinric',
    paletteLabel: 'Light',
    color: '#378BBA',
    defaults: {
      name: {
        value: ""
      },
      deviceId: {
        value: '',
        required: true
      },
      entityId: {
        value: ''
      },
      client: {
        type: "sinric-ws-client",
        required: true
      }
    },
    outputs: 4,
    icon: "mdi-light-bulb.png",
    label: function () {
      return this.name || "Sinric Light";
    }
  });
</script>

<script type="text/x-red" data-template-name="sinric-light">
  <div class="form-row" id="websocket-client-row">
        <label for="node-input-client"><i class="fa fa-bookmark"></i> <span>Connection</span></label>
        <input type="text" id="node-input-client">
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="icon-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>

    <div class="form-row">
        <label for="node-input-deviceId"><i class="icon-tag"></i> Device ID</label>
        <input type="text" id="node-input-deviceId" placeholder="Device ID">
    </div>

    <div class="form-row">
        <label for="node-input-entityId"><i class="icon-tag"></i> HASS Entity ID</label>
        <input type="text" id="node-input-entityId" placeholder="light.test_switch">
    </div>

    <div class="form-row">
            <label for="node-input-idx"><i class="icon-tag"></i> IDX</label>
            <input type="text" id="node-input-idx" placeholder="10">
    </div>
</script>

<script type="text/x-red" data-help-name="sinric-switch">
  <p>
    This node will trigger outputs whenever an On/Off, Set Brightness, Set Color or Set Color Temperature
    commands are received from Alexa/Google Assistant. However, Google Assistant supports a subset of this commands and will be handled accordingly.
  </p>
  <h3>Outputs</h3>
  <ol class="node-ports">
    <li>
      Off Output
      <dl class="message-properties">
        <dt>payload <span class="property-type">number</span></dt>
        <dd>Number 1 if device is switched OFF</dd>
      </dl>
    </li>
    <li>
      ON Output
      <dl class="message-properties">
        <dt>payload <span class="property-type">number</span></dt>
        <dd>Number 1 if device is switched ON</dd>
      </dl>
    </li>
    <li>
      Home Assistant
      <dl class="message-properties">
        <dt>payload <span class="property-type">JSON | object</span></dt>
        <dd>Consists a JSON object compatible with <code>Call API Service</code>
        node of <code>node-red-contrib-home-assistant</code></dd>
      </dl>
    </li>
    <li>
      Domoticz
      <dl class="message-properties">
        <dt>payload <span class="property-type">JSON | object</span></dt>
        <dd> This output port is reserved for future use with Domoticz home automation system</dd>
      </dl>
    </li>
  </ol>
  <ul>
    <li>Hello World</ul>
  </ul>
</script>